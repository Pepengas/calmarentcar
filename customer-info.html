<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Customer Information - PrestigeDrive Car Rental</title>
  <link rel="stylesheet" href="css/styles.css">
  <link rel="stylesheet" href="css/customer-info.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
  <style>
    .form-section {
      margin-bottom: 30px;
    }
    
    .form-section-title {
      margin-bottom: 20px;
      padding-bottom: 10px;
      border-bottom: 1px solid #eee;
    }
    
    #booking-summary {
      background-color: #f8f9fa;
      border-radius: 8px;
      padding: 20px;
      margin-bottom: 30px;
    }
    
    .summary-title {
      font-weight: bold;
      font-size: 18px;
      margin-bottom: 15px;
      color: #333;
    }
    
    .summary-item {
      margin-bottom: 10px;
    }
    
    .summary-label {
      font-weight: bold;
      margin-right: 5px;
    }
    
    .back-link {
      margin-bottom: 20px;
      display: inline-block;
    }
    
    .total-price {
      font-size: 1.2em;
      font-weight: bold;
      color: #ff6b6b;
    }
    
    .confirmation-container {
      display: none;
      text-align: center;
      padding: 30px;
      background-color: #f8f9fa;
      border-radius: 8px;
      margin-top: 20px;
    }
    
    .confirmation-title {
      color: #28a745;
      margin-bottom: 20px;
    }
    
    .booking-ref {
      font-size: 24px;
      font-weight: bold;
      margin: 20px 0;
      padding: 10px;
      background-color: #e9f5e9;
      border-radius: 5px;
      display: inline-block;
    }
    
    .loading-overlay {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background-color: rgba(255, 255, 255, 0.8);
      display: flex;
      justify-content: center;
      align-items: center;
      z-index: 9999;
      flex-direction: column;
      display: none;
    }
    
    .spinner {
      width: 50px;
      height: 50px;
      border: 5px solid #f3f3f3;
      border-top: 5px solid #3498db;
      border-radius: 50%;
      animation: spin 1s linear infinite;
      margin-bottom: 20px;
    }
    
    @keyframes spin {
      0% { transform: rotate(0deg); }
      100% { transform: rotate(360deg); }
    }
  </style>
</head>
<body>
  <!-- Header will be loaded via JavaScript -->
  <div id="header-container"></div>

  <main>
    <!-- Initial form view -->
    <div id="customer-info-view" class="customer-info-container">
      <div class="customer-form-section">
        <h1 class="form-title">Customer Information</h1>
        
        <form id="customer-form">
          <!-- Personal Information Section -->
          <div class="form-section">
            <h2 class="section-title">Personal Information</h2>
            
            <div class="form-row">
              <div class="form-group">
                <label for="firstName">First Name*</label>
                <input type="text" id="firstName" name="firstName" class="form-control" required>
                <div class="error-message" id="firstName-error"></div>
              </div>
              
              <div class="form-group">
                <label for="lastName">Last Name*</label>
                <input type="text" id="lastName" name="lastName" class="form-control" required>
                <div class="error-message" id="lastName-error"></div>
              </div>
            </div>
            
            <div class="form-row">
              <div class="form-group">
                <label for="email">Email Address*</label>
                <input type="email" id="email" name="email" class="form-control" required>
                <div class="error-message" id="email-error"></div>
              </div>
              
              <div class="form-group">
                <label for="phone">Phone Number*</label>
                <input type="tel" id="phone" name="phone" class="form-control" required>
                <div class="error-message" id="phone-error"></div>
              </div>
            </div>
          </div>
          
          <!-- Driver Information Section -->
          <div class="form-section">
            <h2 class="section-title">Driver Information</h2>
            
            <div class="form-row">
              <div class="form-group">
                <label for="driverLicense">Driver's License Number*</label>
                <input type="text" id="driverLicense" name="driverLicense" class="form-control" required>
                <div class="error-message" id="driverLicense-error"></div>
              </div>
              
              <div class="form-group">
                <label for="licenseExpiry">License Expiry Date*</label>
                <input type="date" id="licenseExpiry" name="licenseExpiry" class="form-control" required>
                <div class="error-message" id="licenseExpiry-error"></div>
              </div>
            </div>
            
            <div class="form-row">
              <div class="form-group">
                <label for="age">Age*</label>
                <input type="number" id="age" name="age" min="18" max="100" class="form-control" required>
                <div class="error-message" id="age-error"></div>
              </div>
              
              <div class="form-group">
                <label for="nationality">Nationality*</label>
                <input type="text" id="nationality" name="nationality" class="form-control" required>
                <div class="error-message" id="nationality-error"></div>
              </div>
            </div>
          </div>
          
          <!-- Additional Options Section -->
          <div class="form-section">
            <h2 class="section-title">Additional Options</h2>
            
            <div class="checkbox-group">
              <input type="checkbox" id="additionalDriver" name="additionalDriver">
              <label for="additionalDriver">
                Additional Driver (+$15/day)
                <span class="checkbox-description">Add a second driver to your rental agreement</span>
              </label>
            </div>
            
            <div class="checkbox-group">
              <input type="checkbox" id="fullInsurance" name="fullInsurance">
              <label for="fullInsurance">
                Full Insurance Coverage (+$25/day)
                <span class="checkbox-description">Full coverage with zero deductible for peace of mind</span>
              </label>
            </div>
            
            <div class="checkbox-group">
              <input type="checkbox" id="gpsNavigation" name="gpsNavigation">
              <label for="gpsNavigation">
                GPS Navigation System (+$8/day)
                <span class="checkbox-description">Premium navigation system with real-time traffic updates</span>
              </label>
            </div>
            
            <div class="checkbox-group">
              <input type="checkbox" id="childSeat" name="childSeat">
              <label for="childSeat">
                Child Safety Seat (+$5/day)
                <span class="checkbox-description">Compliant with international safety standards</span>
              </label>
            </div>
          </div>
          
          <!-- Terms and Conditions Section -->
          <div class="form-section">
            <h2 class="section-title">Terms and Conditions</h2>
            
            <div class="terms-container">
              <p>By proceeding with this booking, you agree to our <span id="terms-link" class="terms-link">Terms and Conditions</span>.</p>
            </div>
            
            <div class="checkbox-group">
              <input type="checkbox" id="termsAccepted" name="termsAccepted" required>
              <label for="termsAccepted">
                I accept the Terms and Conditions*
                <div class="error-message" id="termsAccepted-error"></div>
              </label>
            </div>
          </div>
          
          <div class="button-container">
            <a href="car-selection.html" class="btn btn-secondary">Back to Car Selection</a>
            <button type="submit" class="btn btn-primary">Complete Booking</button>
          </div>
        </form>
      </div>
      
      <!-- Booking Summary Section -->
      <div class="booking-summary-section">
        <h2 class="booking-summary-title">Booking Summary</h2>
        
        <div id="booking-summary">
          <div class="summary-item">
            <span class="summary-label">Pickup Location:</span>
            <span class="summary-value" id="summary-location"></span>
          </div>
          
          <div class="summary-item">
            <span class="summary-label">Pickup Date:</span>
            <span class="summary-value" id="summary-pickup-date"></span>
          </div>
          
          <div class="summary-item">
            <span class="summary-label">Return Date:</span>
            <span class="summary-value" id="summary-return-date"></span>
          </div>
          
          <div class="summary-item">
            <span class="summary-label">Duration:</span>
            <span class="summary-value" id="summary-duration"></span>
          </div>
          
          <div class="summary-divider"></div>
          
          <div class="summary-item">
            <span class="summary-label">Selected Car:</span>
            <span class="summary-value" id="summary-car"></span>
          </div>
          
          <div class="summary-item">
            <span class="summary-label">Daily Rate:</span>
            <span class="summary-value" id="summary-daily-rate"></span>
          </div>
          
          <div class="summary-divider"></div>
          
          <div id="additional-options-summary">
            <!-- Additional options will be added dynamically -->
          </div>
          
          <div class="summary-divider"></div>
          
          <div class="summary-item total">
            <span class="summary-label">Total Price:</span>
            <span class="summary-value" id="summary-total"></span>
          </div>
        </div>
      </div>
    </div>
    
    <!-- Confirmation view (hidden initially) -->
    <div id="confirmation-view" class="confirmation-container">
      <div class="confirmation-icon">
        <i class="fas fa-check-circle"></i>
      </div>
      
      <h1 class="confirmation-title">Booking Confirmed!</h1>
      
      <p class="confirmation-message">
        Thank you for choosing PrestigeDrive Car Rental. Your booking has been confirmed.
        We have sent a confirmation email with all the details to your email address.
      </p>
      
      <div class="booking-reference">
        Booking Reference: <span id="booking-reference"></span>
      </div>
      
      <div class="btn-group">
        <a href="index.html" class="btn btn-primary">Return to Home</a>
        <a href="#" id="view-bookings-btn" class="btn btn-secondary">View My Bookings</a>
      </div>
    </div>
  </main>
  
  <!-- Footer will be loaded via JavaScript -->
  <div id="footer-container"></div>
  
  <!-- Terms and Conditions Modal -->
  <div id="terms-modal" class="modal">
    <div class="modal-content">
      <span class="close-modal">&times;</span>
      <h2>Terms and Conditions</h2>
      
      <div class="terms-section">
        <h3>1. Rental Agreement</h3>
        <p>These Terms and Conditions, together with the Rental Agreement, form the contract between the renter and PrestigeDrive Car Rental.</p>
      </div>
      
      <div class="terms-section">
        <h3>2. Driver Requirements</h3>
        <p>All drivers must be at least 21 years of age and hold a valid driver's license for at least one year. For luxury vehicles, drivers must be at least 25 years old.</p>
      </div>
      
      <div class="terms-section">
        <h3>3. Payment Terms</h3>
        <p>A valid credit card is required for all rentals. The total rental amount will be charged at the time of booking confirmation. Additional charges may apply for late returns, fuel, damages, or toll fees.</p>
      </div>
      
      <div class="terms-section">
        <h3>4. Insurance</h3>
        <p>Basic insurance is included in all rentals. Full coverage insurance is available for an additional daily fee and reduces the customer's liability to zero in case of damage.</p>
      </div>
      
      <div class="terms-section">
        <h3>5. Cancellations and Refunds</h3>
        <p>Cancellations made at least 48 hours before the scheduled pickup time will receive a full refund. Cancellations within 48 hours of the pickup time will be charged a one-day rental fee.</p>
      </div>
      
      <div class="terms-section">
        <h3>6. Vehicle Usage</h3>
        <p>Vehicles must not be used for illegal purposes, off-road driving, racing, or to push or tow other vehicles. The renter is responsible for all traffic or parking violations during the rental period.</p>
      </div>
      
      <div class="terms-section">
        <h3>7. Mileage Limits</h3>
        <p>All rentals include 250 kilometers per day. Additional kilometers will be charged at $0.25 per kilometer.</p>
      </div>
      
      <div class="terms-section">
        <h3>8. Fuel Policy</h3>
        <p>Vehicles are provided with a full tank of fuel and should be returned with a full tank. If the vehicle is not returned with a full tank, a refueling charge plus a service fee will apply.</p>
      </div>
    </div>
  </div>
  
  <!-- Loading Overlay -->
  <div id="loading-overlay" class="loading-overlay">
    <div class="spinner"></div>
    <div class="loading-text">Processing your booking...</div>
  </div>
  
  <script src="js/common.js"></script>
  <script src="js/customer-info.js"></script>
</body>
</html> 